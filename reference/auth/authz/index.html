<!DOCTYPE html>
<html>
  <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Authorization | ssoca</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-37464314-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    <style type="text/css">
      body > .section {
        padding-top: 1.75rem;
      }
      nav#TableOfContents > ul,
      nav#TableOfContents > ul > li > ul {
        list-style: none;
        margin-left: 0;
      }
      nav#TableOfContents > ul > li > a {
        display: none;
      }
    </style>
  </head>
  <body><nav class="navbar is-info" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://dpb587.github.io/ssoca">
      
        <img height="28" src="https://github.com/dpb587.png" style="border-radius:4px;margin-right:0.5rem">
      
      ssoca
    </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarExpanded">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarExpanded" class="navbar-menu">
    <div class="navbar-start">
      
        <a class="navbar-item" href="/ssoca/">docs</a>
      
        <a class="navbar-item" href="/ssoca/releases/">releases</a>
      
        <a class="navbar-item" href="https://github.com/dpb587/ssoca">github</a>
      
    </div>

    <div class="navbar-end"></div>
  </div>
</nav>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);

          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
</script>

<section class="section">
      <div class="columns">
        <div class="column">
  
  <aside class="menu">
    <ul class="menu-list">
<li><a href="/ssoca/reference/">Overview</a></li>
<li><a href="/ssoca/reference/installation/">Client Installation</a></li>
<li><a href="/ssoca/releases/">Official Releases</a></li>
</ul>

<p class="menu-label">Services</p>

<ul class="menu-list">
<li><a href="/ssoca/reference/service/docroot/">Document Root</a></li>
<li><a href="/ssoca/reference/service/env/">Environment</a></li>
<li><a href="/ssoca/reference/service/file/">File</a></li>
<li><a href="/ssoca/reference/service/openvpn/">OpenVPN</a></li>
<li><a href="/ssoca/reference/service/ssh/">SSH</a></li>
<li><a href="/ssoca/reference/service/auth/">Authentication</a>

<ul class="menu-list">
<li><a href="/ssoca/reference/service/uaa-auth/">Cloud Foundry UAA</a></li>
<li><a href="/ssoca/reference/service/github-auth/">GitHub</a></li>
<li><a href="/ssoca/reference/service/google-auth/">Google</a></li>
</ul></li>
</ul>

<p class="menu-label">Server Usage</p>

<ul class="menu-list">
<li><a href="/ssoca/reference/server/configuration/">Configuration</a></li>
<li><a class="is-active" href="/ssoca/reference/auth/authz/">Authorization</a></li>
<li><a href="/ssoca/reference/certauth/">Certificate Authorities</a>

<ul class="menu-list">
<li><a href="/ssoca/reference/certauth/memory/">In-Memory</a></li>
<li><a href="/ssoca/reference/certauth/fs/">Local Filesystem</a></li>
</ul></li>
<li><a href="/ssoca/reference/server/logging/">Logging</a></li>
<li><a href="/ssoca/reference/server/ui/">Frontend UI</a></li>
<li><a href="/ssoca/reference/server/deployment/">Deployment</a></li>
</ul>

  </aside>

</div>
        <div class="column is-four-fifths">
          
  
  <div class="columns">
    <div class="column is-four-fifths">
      
  
  

  

  
    
    
    
      
    

    <div class="is-size-5 is-pulled-right">
      <a href="https://github.com/dpb587/ssoca/blob/master/docs/reference/auth/authz/_index.md" rel="noopener" target="_blank" title="Contribute changes to this page" style="opacity:0.7">
        <i class="fas fa-pencil-alt"></i>
      </a>
    </div>
  

<article class="content">

<h1 id="authorization">Authorization</h1>

<p>Global (<code>server.require</code>) and service-specific (<code>services[*].require</code>) authorization restrictions may be configured. For both settings, the values should be an array of hashes with one of the available filter types. At least one authorization rule must be effective for a service.</p>

<h2 id="and"><code>and</code></h2>

<p>Require multiple filters to be true. The array valuesÂ of the node must include one or more additional filters.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- and:
  - scope: { present: <span style="color:#e6db74">&#34;acme/prod-team&#34;</span> }
  - scope: { present: <span style="color:#e6db74">&#34;acme/security&#34;</span> }</code></pre></div>
<h2 id="authenticated"><code>authenticated</code></h2>

<p>Require that the user has been successfully authenticated. This filter has no options.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- authenticated: ~</code></pre></div>
<h2 id="or"><code>or</code></h2>

<p>Require at least one of multiple filters to be true. The array values of the node must include one or more additional filters.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- or:
  - remote_ip: { within: <span style="color:#e6db74">&#34;192.0.2.0/24&#34;</span> }
  - remote_ip: { within: <span style="color:#e6db74">&#34;198.51.100.0/24&#34;</span> }</code></pre></div>
<h2 id="public"><code>public</code></h2>

<p>Allow all access, authenticated or anonymous.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- public: ~</code></pre></div>
<h2 id="remote-ip"><code>remote_ip</code></h2>

<p>Require that the current API request has come from a specific IP or CIDR.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- remote_ip: { within: <span style="color:#e6db74">&#34;192.0.2.1&#34;</span> }
- remote_ip: { within: <span style="color:#e6db74">&#34;192.0.2.1/24&#34;</span> }
- remote_ip: { within: <span style="color:#e6db74">&#34;::1/128&#34;</span> }</code></pre></div>
<h2 id="scope"><code>scope</code></h2>

<p>Require the current authenticated user to have a specific scope (implies <code>authenticated</code>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- scope: { present: acme/prod-team }</code></pre></div>
<h2 id="service"><code>service</code></h2>

<p>Require the current authenticated user to have authenticated with a specific service name (implies <code>authenticated</code>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- service: { is: google-cloud }</code></pre></div>
<h2 id="username"><code>username</code></h2>

<p>Require the current authenticated user to have a specific username (implies <code>authenticated</code>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- username: { is: dpb587 }</code></pre></div></article>


      
      
        
      

      
    </div>

  <div class="column table-of-contents is-hidden-mobile">
    <div class="content is-size-7">
      <nav id="TableOfContents">
<ul>
<li><a href="#authorization">Authorization</a>
<ul>
<li><a href="#and"><code>and</code></a></li>
<li><a href="#authenticated"><code>authenticated</code></a></li>
<li><a href="#or"><code>or</code></a></li>
<li><a href="#public"><code>public</code></a></li>
<li><a href="#remote-ip"><code>remote_ip</code></a></li>
<li><a href="#scope"><code>scope</code></a></li>
<li><a href="#service"><code>service</code></a></li>
<li><a href="#username"><code>username</code></a></li>
</ul></li>
</ul>
</nav>
    </div>
  </div>

</div>

        </div>
      </div>
    </section><footer class="footer">
  <div class="content has-text-centered">
    
  </div>
</footer>
</body>
</html>
